
---
title: '🤳带你在线探秘,解开"专有扩展"的神秘面纱!'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://picsum.photos/400/300?random=5844'
author: 掘金
comments: false
date: Mon, 12 Jul 2021 23:19:49 GMT
thumbnail: 'https://picsum.photos/400/300?random=5844'
---

<div>   
<div class="markdown-body"><style>@charset "UTF-8";.markdown-body&#123;overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0&#125;.markdown-body h1:before&#123;content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,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")&#125;.markdown-body h2&#123;position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500&#125;.markdown-body h2:before&#123;content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,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");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto&#125;.markdown-body h3&#123;width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500&#125;.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;font-weight:700;color:#a37400&#125;.markdown-body h4&#123;font-size:17px&#125;.markdown-body h5,.markdown-body h6&#123;display:flex;align-items:center&#125;.markdown-body h5:after,.markdown-body h6:after&#123;display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px&#125;.markdown-body h5&#123;font-size:14px&#125;.markdown-body h5:after&#123;content:"5";width:15px;height:15px;line-height:15px;font-size:13px&#125;.markdown-body h6&#123;font-size:12px&#125;.markdown-body h6:after&#123;content:"6";width:13px;height:13px;line-height:13px;font-size:12px&#125;.markdown-body p&#123;color:#412c0c;letter-spacing:1px;font-weight:400&#125;.markdown-body img&#123;max-width:100%;display:block;margin:auto&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none&#125;.markdown-body table&#123;width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0&#125;.markdown-body table img&#123;box-shadow:none&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body thead tr th&#123;text-align:center&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)&#125;.markdown-body blockquote&#123;position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px&#125;.markdown-body blockquote p&#123;color:#fff6e0;letter-spacing:2px;margin:0&#125;.markdown-body blockquote:after,.markdown-body blockquote:before&#123;position:absolute;color:#cc9100;font-size:34px;font-weight:700&#125;.markdown-body blockquote:before&#123;content:"❝";top:8px;left:5px&#125;.markdown-body blockquote:after&#123;content:"❞";right:5px;bottom:-5px&#125;.markdown-body strong&#123;color:#c28a00;font-weight:bolder&#125;.markdown-body strong:before&#123;content:"「"&#125;.markdown-body strong:after&#123;content:"」"&#125;.markdown-body em&#123;color:#c28a00&#125;.markdown-body em strong&#123;font-style:normal;color:#c28a00;background-color:#8a6200&#125;.markdown-body s&#123;color:#c28a00&#125;.markdown-body hr&#123;border-top:1px solid #805b00&#125;.markdown-body code,.markdown-body li code,.markdown-body p code&#123;color:#996d00;background-color:rgba(130,98,0,.3)&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection&#123;color:rgba(189,134,0,.5);background-color:#fff&#125;.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection&#123;background-color:transparent&#125;.markdown-body pre>code::selection&#123;background-color:rgba(189,134,0,.5)&#125;.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection&#123;background-color:rgba(189,134,0,.5)&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h2 data-id="heading-0">1. 选择符API</h2>
<p>在操控节点或元素时我们要先选取我们要操作的节点,这里就需要用到选取工具----选择符API</p>
<p>Selectors API Level 1的核心是两个方法：querySelector()和querySelectorAll()</p>
<h3 data-id="heading-1">1.1. querySelector()方法</h3>
<p>他接收一个选择符,返回符合要求的第一个元素,若没有返回null</p>
<pre><code class="copyable">//获取第一个div元素

var div01 = document.querySelector("div");

//获取ID为"123"的元素

var element123 = document.querySelector("#123");

//获取类为Person的第一个元素

var Person = document.querySelector(".Person");

//获取类为Person的第一个图像元素

var PersonImg = document.querySelector("img.Person");
<span class="copy-code-btn">复制代码</span></code></pre>
<p>调用时作用域不同查找范围不同,在document类型下调用会在文档范围内查找匹配项,在element类型下调用只会在该元素后代查找</p>
<h3 data-id="heading-2">1.2. querySelectorAll()方法</h3>
<p>输入和上一个一样,返回的是一整个NodeList实例,即包含该API的一整组,可调用的类型除了document,element还有documentFragment</p>
<pre><code class="copyable">//获取某div中的某元素的所有
var emmms = document.getElementById(".123").querySelectorAll("emmm");
<span class="copy-code-btn">复制代码</span></code></pre>
<p>要取得返回的NodeList中的每一个元素可以使用item()方法,或方括号语法(仿数组)</p>
<pre><code class="copyable">//strongs是一个取得的元素的所有

var i, len, strong;

for (i = 0, len = strong.length; i < len; i++ )
&#123;
    strong = strongs[i];
    //或strongs.item(i);

    strong.className = "important";
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-3">1.3. matchesSelector()方法</h3>
<p>Selectors API Level 2规范为Element类型新增了一个方法matchesSelector().如果调用元素和输入选择符匹配,返回true,否就false</p>
<pre><code class="copyable">//检测body元素下的调用元素是否与pagel匹配
if (document.body.matchsSelector("body.pagel"))
&#123;
    //true
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-4">2. 元素遍历</h2>
<p>元素间的空格在IE9之前的版本不会返回文本节点,而其他浏览器都返回,这导致的差异会让使用firstNode等属性时行为不一致</p>
<p>于是Element Traversal API为DOM元素添加了以下5个属性。</p>
<ol>
<li>childElementCount：返回子元素（不包括文本节点和注释）的个数。</li>
<li>firstElementChild：指向第一个子元素；firstChild的元素版。</li>
<li>lastElementChild：指向最后一个子元素；lastChild的元素版。</li>
<li>previousElementSibling：指向前一个同辈元素；previousSibling的元素版。</li>
<li>nextElementSibling：指向后一个同辈元素；nextSibling的元素版。</li>
</ol>
<p>可以更方便的遍历元素</p>
<pre><code class="copyable">var i, len, child = element.firstElementChild;

wheil(child != element.lastElementChild)
&#123;
    //此处是对child的一些操作的简略代表,比如可以在这里写一个输出,并非一个方法
    processChild(child);

    child = child.nextElementSibling;
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-5">3. HTML5</h2>
<p>其规则定义了大量js API</p>
<h3 data-id="heading-6">3.1. 与类相关的扩充</h3>
<h4 data-id="heading-7">3.1.1. getElementsByClassName()方法</h4>
<p>可以更方便的为带有某些类的元素添加事件处理程序</p>
<p>接收一个参数,可以是包含一个或多个类名的字符串,返回带有指定类的所有元素的NodeList,其类名先后顺序不重要</p>
<pre><code class="copyable">    //取得ID为123的元素中带有456类名的所有元素
    var element01 = document.getElementsById("123").getElementsByClassName("456");

    //取得所有类中包含789和012的所有元素
    var element02 = document.getElementsByClassName("789 012");
<span class="copy-code-btn">复制代码</span></code></pre>
<p>调用时作用域不同查找范围不同,在document类型下调用会返回类名匹配所有元素,在元素下调用只会在该元素后代查找</p>
<h4 data-id="heading-8">3.1.2．classList属性</h4>
<p>简化了以前的对className属性的添加,修改,删除的操作</p>
<p>classList属性是DOMTokenList的实例,DOMTokenList有length属性，而要取得每个元素可以使用item()方法，也可以使用方括号语法.</p>
<ol>
<li>
<p>add(value)：将给定的字符串值添加到列表中。如果值已经存在，就不添加了。</p>
</li>
<li>
<p>contains(value)：表示列表中是否存在给定的值，如果存在则返回true，否则返回false。</p>
</li>
<li>
<p>remove(value)：从列表中删除给定的字符串。</p>
</li>
<li>
<p>toggle(value)：如果列表中已经存在给定的值，删除它；如果列表中没有给定的值，添加它。</p>
<pre><code class="copyable"> //有一个div有三个类
 <div class = "zy zjj user">...</div>;

 //删除user类
 div.classList.remove("user");

 //添加qwer类
 div.classList.add("qwer");

 //检测是否存在user类,有就删除,没有就添加,简称"切换"
 div.classList.toggle("user");

 //确定元素中是否存在既定类名
 if (div.classList.contains("zzy") )
 &#123;
     //执行操作
 &#125;
<span class="copy-code-btn">复制代码</span></code></pre>
</li>
</ol>
<h3 data-id="heading-9">3.2. 焦点管理</h3>
<ol>
<li>document.activeElement属性，这个属性始终会引用DOM中当前获得了焦点的元素。文档刚刚加载完成时，document.activeElement中保存的是document.body元素的引用。文档加载期间，document.activeElement的值为null。</li>
</ol>
<blockquote>
<p>元素获得焦点的方式有页面加载、用户输入（通常是通过按Tab键）和在代码中调用focus()方法。</p>
</blockquote>
<pre><code class="copyable">var button = document.getElementById("myButton");

//使button获取焦点
button.focus();

//true
document.activeElement === button;
<span class="copy-code-btn">复制代码</span></code></pre>
<ol start="2">
<li>document.hasFocus()方法，这个方法用于确定文档是否获得了焦点。也可以用于确定用户是否正在与页面交互</li>
</ol>
<p>这两个结合可以知道用户具体在和哪个元素交互</p>
<h3 data-id="heading-10">3.3. HTMLDocument的变化</h3>
<h4 data-id="heading-11">3.3.1. readyState属性</h4>
<p>该属性有两个可能值:</p>
<ol>
<li>loading，正在加载文档；</li>
<li>complete，已经加载完文档。</li>
</ol>
<p>我们可以使用document.readyState来实现查看文档是否加载完成的指示器</p>
<pre><code class="copyable">if (document.readyState == "complete")
&#123;
    //执行操作
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<h4 data-id="heading-12">3.3.2. 兼容模式</h4>
<p>IE给document添加了一个名为compatMode的属性，可知浏览器采用了哪种渲染模式,在标准模式下，document.compatMode的值等于"CSS1Compat"，而在混杂模式下，document.compatMode的值等于"BackCompat"。</p>
<h4 data-id="heading-13">3.3.3. head属性</h4>
<h3 data-id="heading-14">3.4. 字符集属性</h3>
<ol>
<li>
<p>charset属性,其值为"UTF-16",表示文档中实际使用的字符集</p>
</li>
<li>
<p>defaultCharset属性,表示当前文档默认的字符集应该是什么,若没有使用默认字符集,那么charset和defaultCharset的值可能会不一样</p>
</li>
</ol>
<p>通过这两个属性可以得到文档使用的字符编码的具体信息,可以保证用户正常查看页面或使用应用</p>
<h3 data-id="heading-15">3.5. 自定义数据属性</h3>
<p>h5中可以自行为元素添加非标准属性,要加前缀data-.可以根据自定义数据属性性能方便的知道点击来自页面的哪个部分</p>
<p>在除了第一次使用(类似于给自定义属性定义)以外的调用都不需要data-前缀</p>
<h3 data-id="heading-16">3.6. 插入标记</h3>
<p>在大规模操控节点的情况下使用直接插入HTML字符串会更简单</p>
<h4 data-id="heading-17">3.6.1. innerHTML属性</h4>
<p>在读模式下,它返回与调用元素所有<strong>子</strong>节点对应的HTML标记</p>
<p>在写模式下,根据指定的值创建新的DOM树,以此替换掉元素原先所有的子节点</p>
<h4 data-id="heading-18">3.6.2．outerHTML属性</h4>
<h4 data-id="heading-19">3.6.3．insertAdjacentHTML()方法</h4>
<h4 data-id="heading-20">3.6.4．内存与性能问题</h4>
<h3 data-id="heading-21">3.7 scrollIntoView()方法</h3>
<p>解决滚动页面</p>
<p>可以在所有HTML元素上调用</p>
<p>传入true或不传,窗口滚动之后会让调用元素的顶部与视口顶部尽可能平齐。</p>
<p>传入false,调用元素会尽可能全部出现在视口中,不一定平齐</p>
<h2 data-id="heading-22">4. 专有扩展</h2>
<p>即专属于一些浏览器并且未成为标准的扩展</p>
<h3 data-id="heading-23">4.1. 文档模式</h3>
<p>文档模式决定了我们可以使用哪个级别的CSS,可以在js中使用哪些API,以及如何对待文档类型,IE5,7,8,9每个版本都有一种自己的文档模式</p>
<p>比如IE5是以混杂模式渲染页面,IE7是IE7标准模式,他们都无法使用IE8之后的新功能</p>
<p>IE8是IE8标准模式,使用，因此可以使用Selectors API、更多CSS2级选择符和某些CSS3功能，还有一些HTML5的功能。同样,IE9之后新功能无法使用</p>
<p>IE9的文档模式是最高级的文档模式</p>
<p>如果想要强制浏览器以某种模式渲染页面可以用等价的标签或使用HTTP头部信息X-UA-Compatible</p>
<pre><code class="copyable">//强制以IE7文档模式渲染
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>Edge：始终以最新的文档模式来渲染页面。忽略文档类型声明。对于IE8，始终保持以IE8标准模式渲染页面。对于IE9，则以IE9标准模式渲染页面。</li>
<li>EmulateIE9：如果有文档类型声明，则以IE9标准模式渲染页面，否则将文档模式设置为IE5。</li>
<li>EmulateIE8：如果有文档类型声明，则以IE8标准模式渲染页面，否则将文档模式设置为IE5。</li>
<li>EmulateIE7：如果有文档类型声明，则以IE7标准模式渲染页面，否则将文档模式设置为IE5。</li>
<li>9：强制以IE9标准模式渲染页面，忽略文档类型声明。</li>
<li>8：强制以IE8标准模式渲染页面，忽略文档类型声明。</li>
<li>7：强制以IE7标准模式渲染页面，忽略文档类型声明。</li>
<li>5：强制将文档模式设置为IE5，忽略文档类型声明。</li>
</ul>
<p>一般在默认情况下,浏览器会通过文档类型声明来确定文档模式</p>
<p>document.documentMode属性可以知道给定页面使用的是什么文档模式,返回版本号</p>
<h3 data-id="heading-24">4.2. children属性</h3>
<p>这个属性出现的原因是IE9之前的版本与其他浏览器在出来文本节点中的空白符时出现了差异</p>
<p>这个属性是HTMLCollection的实例，只包含元素中同样还是元素的子节点，除此之外children和childNodes没有区别</p>
<pre><code class="copyable">//访问时与childNodes一样
var childCount = element.children.length;
var firstChild = element.children[0];
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-25">4.3. contains()方法</h3>
<p>用于查找某节点是否是另一个节点的后代</p>
<p>可以不通过DOM文档树来获取这个信息</p>
<p>应用祖先节点调用该方法,返回true和false</p>
<pre><code class="copyable">//测试<body>元素是否是<html>元素的后代
alert(document.documentElement.contains(document.body));

//true
<span class="copy-code-btn">复制代码</span></code></pre>
<h6 data-id="heading-26">相似方法:DOM Level 3 compareDocumentPosition()</h6>
<p>用于确定两个节点之间的关系</p>
<p>返回一个表示该关系的位掩码</p>





























<table><thead><tr><th align="center">掩码</th><th align="center">节点关系</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">无关(给定的节点不在当前文档中)</td></tr><tr><td align="center">2</td><td align="center">居前(给定的节点在DOM树中位于参考节点之前)</td></tr><tr><td align="center">4</td><td align="center">居后(给定的节点在DOM树中位于参考节点之后)</td></tr><tr><td align="center">8</td><td align="center">包含(给定的节点是参考节点的祖先)</td></tr><tr><td align="center">16</td><td align="center">被包含(给定的节点是参考节点的后代)</td></tr></tbody></table>
<p>我们可以将得到的掩码用逻辑符转化成布尔值来用函数检测节点关系</p>
<h3 data-id="heading-27">4.4. 插入文本</h3>
<h5 data-id="heading-28">1. innerText属性</h5>
<p>可以操作元素中包含的所有文本内容,包括文档树中的文本</p>
<p>他会按照由浅入深的顺序将树中所有的文本拼接起来</p>
<p>通过innerText写入值时会删除元素的所有子节点,然后插入包含相应文本值的文本节点</p>
<pre><code class="copyable">div.innerText = " Hello \" world \" !"

//设置innerText属性的同时，也对文本中存在的HTML语法字符（小于号、大于号、引号及和号）进行了编码。
<span class="copy-code-btn">复制代码</span></code></pre>
<p>因为innerTest永远只会生成当前节点的一个子文本节点,所以为了只生成一个子文本节点,他就必须要删掉其他的子节点标签,我们可以用这个来过滤掉HTML标签</p>
<pre><code class="copyable">div.innerText = div.innerText;
<span class="copy-code-btn">复制代码</span></code></pre>
<h6 data-id="heading-29">相似方法:DOM Level 3的textContent属性</h6>
<p>这两个属性返回的内容不完全一样</p>
<p>这个会返回行内样式和脚本</p>
<h5 data-id="heading-30">2. outerText属性</h5>
<p>和innerText的区别在于作用范围扩大到了调用他的节点之外</p>
<p>读取文本时和前者一样</p>
<p>但在写模式下outerText会替换掉整个元素(包括子节点)</p>
<pre><code class="copyable">div.outerText = " Hello world ";

//相当于将hello~赋值给了创建的一个新的变量,然后用新变量替换原来的元素,该元素会被删除无法访问
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-31">4.5. 滚动</h3>
<ul>
<li>
<p>scrollIntoViewIfNeeded(alignCenter)：当前元素在视口中不可见的情况下，滚动浏览器窗口或容器元素，让它可见。如果当前元素在视口中可见，这个方法什么也不做。如果将可选的alignCenter参数设置为true，则表示尽量将元素显示在视口中部（垂直方向）。</p>
</li>
<li>
<p>scrollByLines(lineCount)：将元素的内容滚动指定的行高，lineCount值可以是正值，也可以是负值。</p>
</li>
<li>
<p>scrollByPages(pageCount)：将元素的内容滚动指定的页面高度，具体高度由元素的高度决定。</p>
<p>//当前元素不可见时让它进入浏览器视口
document.images[0].scrollIntoViewIfNeeded();</p>
<p>//将页面主体滚动5行
document.body.scrollByLines(5);</p>
<p>//将页面主题往回滚动2页
document.body.scrollByPages(-2);</p>
</li>
</ul></div>  
</div>
            