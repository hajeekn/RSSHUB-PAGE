
---
title: '3x0 ç²¾è¯»Vueå®˜æ–¹æ–‡æ¡£ - ç»„åˆ - æ··å…¥'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://picsum.photos/400/300?random=3563'
author: æ˜é‡‘
comments: false
date: Sun, 11 Jul 2021 01:07:08 GMT
thumbnail: 'https://picsum.photos/400/300?random=3563'
---

<div>   
<div class="markdown-body"><style>@charset "UTF-8";.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child&#123;margin-top:-1.5rem;margin-bottom:1rem&#125;.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before&#123;content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em&#125;.markdown-body h1&#123;position:relative;font-size:2.5rem;margin-bottom:5px&#125;.markdown-body h1:before&#123;font-size:2.5rem&#125;.markdown-body h2&#123;padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:1.5rem;padding-bottom:0&#125;.markdown-body h4&#123;font-size:1.25rem&#125;.markdown-body h5&#123;font-size:1rem&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body strong&#123;color:#3eaf7c&#125;.markdown-body img&#123;max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)&#125;.markdown-body hr&#123;border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;font-weight:500;text-decoration:none;color:#3eaf7c&#125;.markdown-body a:active,.markdown-body a:hover&#123;border-bottom:1.5px solid #3eaf7c&#125;.markdown-body a:before&#123;content:"â‡²"&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c&#125;.markdown-body thead&#123;background:#3eaf7c;color:#fff;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:rgba(62,175,124,.2)&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body details&#123;outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px&#125;.markdown-body details summary&#123;cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px&#125;.markdown-body details summary::-webkit-details-marker&#123;color:#3eaf7c&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body ol li::marker&#123;color:#3eaf7c&#125;.markdown-body ul li&#123;list-style:none&#125;.markdown-body ul li:before&#123;content:"â€¢";margin-right:4px;color:#3eaf7c&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h2 data-id="heading-0"><a href="https://juejin.cn/column/6976899977133948965" target="_blank" title="https://juejin.cn/column/6976899977133948965">ç²¾è¯» Vue å®˜æ–¹æ–‡æ¡£ç³»åˆ—</a> ğŸ‰</h2>
<h2 data-id="heading-1">åŸºç¡€</h2>
<p>Mixinï¼ˆæ··å…¥ï¼‰æŒ‡çš„æ˜¯å‘ç›®æ ‡ç»„ä»¶ä¸­æ··å…¥èƒ½å¤Ÿåœ¨å¤šä¸ªç»„ä»¶é—´è¿›è¡Œå¤ç”¨çš„<strong>é€»è¾‘</strong>æˆ–<strong>åŠŸèƒ½</strong>ã€‚</p>
<p>ç®€å•ç²—æš´çš„ç†è§£ï¼Œå¯ä»¥å°†â€œæ··å…¥å¯¹è±¡â€ç­‰åŒä¸ºç»„ä»¶çš„çº¯é€»è¾‘éƒ¨åˆ†ï¼ˆSFC ä¸­çš„ <code><script></code> éƒ¨åˆ†ï¼‰ï¼Œç„¶åå°†å…¶æŠ½ç¦»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼Œç­‰å¾…åˆ†å‘åˆ°åˆ«çš„ç»„ä»¶ä¸­è¿›è¡Œæ··åˆï¼Œä»¥å®ç°åŠŸèƒ½çš„å¤ç”¨ã€‚</p>
<p>æ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„çš„<strong>ç»„ä»¶é€‰é¡¹</strong>ï¼Œè¿™äº›é€‰é¡¹ä¼šæŒ‰ç…§æ°å½“çš„æ–¹å¼ä¸ç›®æ ‡ç»„ä»¶çš„é€‰é¡¹è¿›è¡Œâ€æ··åˆåˆå¹¶â€œã€‚</p>
<blockquote>
<p>æ··å…¥å¯¹è±¡ä¸­çš„<strong>æ–¹æ³•</strong>ä¸<strong>æ•°æ®</strong>å¯ä»¥åœ¨å¤šä¸ªç»„ä»¶ä¸­å…±ç”¨ä½†æ˜¯ä¸èƒ½å…±äº«ã€‚</p>
</blockquote>
<p>ä¸€ä¸ªç®€å•çš„æ··å…¥å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">//src/mixins/sayHelloMixin.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
    <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">message</span>: <span class="hljs-string">'hello!'</span>
        &#125;
    &#125;,
    <span class="hljs-function"><span class="hljs-title">created</span>(<span class="hljs-params"></span>)</span> &#123;
        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.message)
    &#125;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å¯¼å…¥ <code>sayHelloMixin</code>ï¼Œç„¶åä¼ å…¥åˆ°ç›®æ ‡ç»„ä»¶çš„ <code>mixins</code> é€‰é¡¹ä¸­è¿›è¡Œå±€éƒ¨æ³¨å†Œã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">import</span> sayHelloMixin <span class="hljs-keyword">from</span> <span class="hljs-string">"../mixins/sayHello"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;
    <span class="hljs-attr">name</span>:<span class="hljs-string">'Hello'</span>,
    <span class="hljs-attr">mixins</span>:[sayHelloMixin]
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æˆ–è€…ä½¿ç”¨ <code>Vue.extend()</code> æ–¹æ³•åŸºäºæ··å…¥å¯¹è±¡åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„å…¨æ–°çš„ç»„ä»¶å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">import</span> sayHelloMixin <span class="hljs-keyword">from</span> <span class="hljs-string">"../mixins/sayHello"</span>;
<span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Vue.extend(&#123;<span class="hljs-attr">mixins</span>: [sayHelloMixin]&#125;)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h2 data-id="heading-2">é€‰é¡¹åˆå¹¶</h2>
<p>æ··å…¥å¯¹è±¡ä¸ç›®æ ‡ç»„ä»¶æ··åˆçš„è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ•°æ®æ–¹æ³•ä¼šè¿›è¡Œé€’å½’åˆå¹¶æ•°æ®çš„é”®å€¼å¯¹ï¼Œå¦‚æœé”®å‘ç”Ÿå†²çªï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨ç»„ä»¶ä¸­çš„æ•°æ®ã€‚</li>
<li>é’©å­å‡½æ•°ä¼šè¢«åˆå¹¶æˆä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤éƒ½å°†è¢«è°ƒç”¨ï¼Œæ³¨æ„çš„æ˜¯æ··å…¥å¯¹è±¡çš„é’©å­åœ¨ç»„ä»¶è‡ªèº«çš„é’©å­ä¹‹å‰æ‰§è¡Œã€‚</li>
<li>å€¼ä¸ºå¯¹è±¡çš„ç»„ä»¶é€‰é¡¹ä¼šè¿›è¡Œåˆå¹¶ï¼Œå¯¹è±¡é”®åå†²çªæ—¶ï¼Œå–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹ã€‚</li>
</ul>
<h2 data-id="heading-3">å…¨å±€æ··å…¥</h2>
<p>ä½¿ç”¨ <code>Vue.mixin()</code> æ–¹æ³•æ¥æ³¨å†Œå…¨å±€çš„æ··å…¥å¯¹è±¡ã€‚</p>
<blockquote>
<p>åº”å½“é¿å…ä½¿ç”¨å…¨å±€æ··å…¥çš„æ–¹å¼ã€‚
è¿™é‡Œä¸»è¦æ³¨æ„é‡‡ç”¨ä¸åŒæ–¹å¼æ³¨å†Œçš„æ··å…¥å¯¹è±¡çš„æ‰§è¡Œä¼˜å…ˆçº§ï¼š<code>ç»„ä»¶è‡ªèº«é€‰é¡¹</code> â†’ <code>å±€éƒ¨æ³¨å†Œçš„æ··å…¥å¯¹è±¡</code> â†’ <code>å…¨å±€æ³¨å†Œçš„æ··å…¥å¯¹è±¡</code></p>
</blockquote>
<h2 data-id="heading-4">è‡ªå®šä¹‰é€‰é¡¹åˆå¹¶ç­–ç•¥</h2>
<p>é€šè¿‡ <code>Vue.config.optionMergeStrategies.[myOption]</code> å¯ä»¥è‡ªå®šä¹‰æ··å…¥å¯¹è±¡ä¸ç»„ä»¶å¯¹è±¡ä¸­æŸä¸ªé€‰é¡¹çš„åˆå¹¶ç­–ç•¥ã€‚</p>
<p>å…¶ä¸­ <code>myOption</code> æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå…¶å®é™…åç§°åº”å½“æ˜¯è¦åˆå¹¶çš„é€‰é¡¹åã€‚</p>
<p>å¯¹äºå¤šæ•°å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨ä¸ <code>methods</code> ç›¸åŒçš„åˆå¹¶ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">var</span> strategies = Vue.config.optionMergeStrategies
strategies.myOption = strategies.methods
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h2 data-id="heading-5">ç¤ºä¾‹è¯´æ˜</h2>
<p>è®¾æƒ³ï¼Œç°åœ¨æœ‰ä¸¤ä¸ªç»„ä»¶ï¼Œ<code>Modal</code> ä¸ <code>Tooltip</code>ï¼Œè™½ç„¶å®ƒä»¬å±•ç°çš„å½¢å¼ä¸Šå­˜åœ¨å·®å¼‚ï¼Œä½†å­˜åœ¨ç€ç›¸åŒçš„äº¤äº’é€»è¾‘ï¼Œä¾‹å¦‚éƒ½æœ‰ç€åˆ‡æ¢æ˜¾ç¤ºéšè—çš„åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c845c713f3ef4c6a84509a5d2b6a24d3~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>æ­¤æ—¶ï¼ŒæŒ‰ç…§<strong>æ··å…¥</strong>çš„ç›®æ ‡ä¸å®šä¹‰ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å°†èƒ½å¤ç”¨çš„åŠŸèƒ½æŠ½ç¦»åˆ°ä¸€ä¸ª <code>mixin</code> å¯¹è±¡ä¸­äº†ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">var</span> toggleMixin = &#123;
    <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;
        <span class="hljs-keyword">return</span> &#123;
            <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>
        &#125;
    &#125;,
    <span class="hljs-attr">methods</span>: &#123;
        <span class="hljs-function"><span class="hljs-title">toggle</span>(<span class="hljs-params"></span>)</span> &#123;
            <span class="hljs-built_in">this</span>.show = !<span class="hljs-built_in">this</span>.show;
        &#125;
    &#125;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ç„¶ååˆ†åˆ«åœ¨ <code>Modal</code> ä¸ <code>Tooltip</code> ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-comment"><!--Modal.vue--></span>
export default &#123;
    name:'Modal',
    mixins:[toggleMixin],
&#125;

<span class="hljs-comment"><!--Tooltip.vue--></span>
export default &#123;
    name:'Modal',
    mixins:[toggleMixin],
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre></div>  
</div>
            