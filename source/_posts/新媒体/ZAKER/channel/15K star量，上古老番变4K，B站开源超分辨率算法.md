
---
title: '1.5K star量，上古老番变4K，B站开源超分辨率算法'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6ad_1024.jpg'
author: ZAKER
comments: false
date: Tue, 15 Feb 2022 00:01:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6ad_1024.jpg'
---

<div>   
<p>机器之心报道</p><p><strong>编辑：泽南、小舟</strong></p><p>这是 B 站 AI 实验室的最新成果。</p><p>喜欢看动漫的人经常会被一些经典作品的情节所吸引，不过画面质量是欣赏下去的大敌 —— 那些超过十年历史的内容自不必说，直到现在，很多动画的实际分辨率也只是 720p 左右，然后被拉伸到 1080i 以满足电视台播放的需求，BD（蓝光）清晰度也只有 1080p。</p><p>究其原因，还是成本问题：在动画制作过程中，让分辨率提升一个级别，就会导致所有的制作资源大幅提升，从作画、扫描到处理和存储，整个产业链条都需要软硬件的提升。</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6ad_1024.jpg" data-height="338" data-width="602" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6ad_1024.jpg" referrerpolicy="no-referrer"></div></div>但今天即使是手机也有个 2K 的分辨率，既然手绘动画难以提升分辨率，那么能不能用 AI 算法来解决这个问题？<p></p><p>最近，GitHub 上一个图像超分辨率的项目火了，一个叫做 Real-CUGAN 的工具可以把动画图像的质量提升 2 到 4 倍，qq 上斗图的表情包也能给你脑补成 4k 品质。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_1" data-original="http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6ae_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6ae_raw.gif" data-height="418" data-width="800" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6ae_1024.jpg" referrerpolicy="no-referrer"></div></div>仔细一看，这个项目来自 bilibili 人工智能实验室。上线 20 天，star 量已达 1.5K。<p></p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres1.myzaker.com/202202/620b4b638e9f091a4850c6af_1024.jpg" data-height="452" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620b4b638e9f091a4850c6af_1024.jpg" referrerpolicy="no-referrer"></div></div>项目链接：https://github.com/bilibili/ailab/tree/main/Real-CUGAN<p></p><p>据作者介绍，Real-CUGAN 是一个使用百万级动漫数据进行训练的，结构与 Waifu2x 兼容的通用动漫图像超分辨率模型。相比目前市面上已有的通用化超分辨率算法，Real-CUGAN 的 AI 模型经过了更大体量数据集的训练，处理二次元内容的效果更佳。</p><p>它支持 2x3x4x 倍超分辨率，其中 2 倍模型支持 4 种降噪强度与保守修复，3 倍 / 4 倍模型支持 2 种降噪强度与保守修复。</p><p>Real-CUGAN 全称为 Real Cascaded-U-Net-style Generative Adversarial Networks（真实的、级联 U-Net 风格的生成对抗网络），使用了与 Waifu2x 相同的动漫网络结构，但因为使用了新的训练数据与训练方法，从而形成了不同的参数。</p><p>具体来说，该动漫超分模型训练先行对动漫帧进行切块处理，使用图像质量打分模型对候选块进行打分过滤，得到一个百万级的高质量动漫图像块训练集。然后使用多阶段降质算法，将高清图像块降采样得到低质图像，让 AI 模型学习、优化从低质图像到高质图像的重建过程，训练完毕后即可对真实的二次元低质图像进行高清化处理。</p><p>在 GitHub 项目中，作者开源了推理阶段的模型参数与推理代码。</p><p>下面，我们来看一下 Real-CUGAN 的修复效果。</p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_3" data-original="http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b0_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b0_raw.gif" data-height="610" data-width="1079" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b0_1024.jpg" referrerpolicy="no-referrer"></div></div>图源：https://github.com/bilibili/ailab/tree/main/Real-CUGAN<p></p><p>为了进一步查看几种修复方法的差距，研究团队将 Real-CUGAN 的修复效果和 Waifu2x、RealESRGAN 进行比较。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b1_1024.jpg" data-height="523" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b1_1024.jpg" referrerpolicy="no-referrer"></div></div>下图是动漫《侦探已死》中的画面，其中几种方法对沙发纹理的修复差距显著。可以看到，在 Real-CUGAN 的修复结果中，沙发上的横向条纹清晰可见，并且几乎没有中断的部分：<p></p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b2_1024.jpg" data-height="170" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b2_1024.jpg" referrerpolicy="no-referrer"></div></div>在动漫中，人物清晰的线条对角色形象的塑造具有重要的作用。线条模糊会严重影响观看体验。以下图为例，Real-CUGAN 清晰地修复了动漫中角色的表情线条：<p></p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_6" data-original="http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b3_1024.jpg" data-height="202" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620b4b638e9f091a4850c6b3_1024.jpg" referrerpolicy="no-referrer"></div></div>当然，有些场景并非越清晰越好，比如画面中的一些远景，原本就是刻意虚化的。以下图为例，Real-CUGAN 修复之后，近景处的人物形象变得更清晰，远处的蜡烛仍然保持模糊，使得画面更有层次感。<p></p><p></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_7" data-original="http://zkres1.myzaker.com/202202/620b4b638e9f091a4850c6b4_1024.jpg" data-height="152" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620b4b638e9f091a4850c6b4_1024.jpg" referrerpolicy="no-referrer"></div></div>还有一些动漫由于年代久远，受当时技术条件的限制，画质着实「感人」。例如许多人的童年回忆《黑猫警长》，先前的模型 RealESRGAN（下图第三列）已获得了不错的修复效果。相比之下 Real-CUGAN（下图第四列）更好地修复了一些杂线、模糊的问题，让画面更加干净清晰。<p></p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_8" data-original="http://zkres1.myzaker.com/202202/620b4b638e9f091a4850c6b5_1024.jpg" data-height="268" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620b4b638e9f091a4850c6b5_1024.jpg" referrerpolicy="no-referrer"></div></div>更为重要的是这项技术想要用很简单：你下载的模型已训练好，修改 config.py 配置参数，双击 go.bat 运行即可。Real-CUGAN 不仅可用 cuda 加速，也支持 AMD 系列的显卡，处理速度还很快，笔记本电脑也可以跑得起来。<p></p><p>虽然 Real-CUGAN 默认是只处理静态图片的，但很多人已尝试把视频拆解成单帧序列进行处理。如此一来，很多上古老番都能自己上手让它们焕然一新了。</p><p>目前 B 站上已经有人上传了一些使用新技术处理过的视频。</p><p>在很多电影修复之后，老番高清计划也已在路上。B 站表示，将针对不同品类适配不同的超分算法，并且使用窄带高清算法降低卡顿，提高流畅度。</p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            