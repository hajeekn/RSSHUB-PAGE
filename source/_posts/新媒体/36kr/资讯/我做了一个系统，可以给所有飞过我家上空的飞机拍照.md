
---
title: '我做了一个系统，可以给所有飞过我家上空的飞机拍照'
categories: 
 - 新媒体
 - 36kr
 - 资讯
headimg: 'https://img.36krcdn.com/20220124/v2_e0f07fc9b15a4431a33040af10100419_img_000'
author: 36kr
comments: false
date: Mon, 24 Jan 2022 05:10:06 GMT
thumbnail: 'https://img.36krcdn.com/20220124/v2_e0f07fc9b15a4431a33040af10100419_img_000'
---

<div>   
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_e0f07fc9b15a4431a33040af10100419_img_000" referrerpolicy="no-referrer"></p> 
<p>你以为的飞机迷们：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_0ca68ea3f0f548d295d38965943a95a5_img_000" referrerpolicy="no-referrer"></p> 
<p>实际上的飞机迷们：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_cb031ebacb134694b78d58e186f51394_img_000" referrerpolicy="no-referrer"></p> 
<p>你永远也不知道他们脑袋瓜里都在捣鼓些什么。</p> 
<p>比如，你能想象，一个飞机迷，为了拍下每架从他家上空飞过的飞机，亲手做了一个小系统<strong>skybot</strong>，追踪拍摄到离地3万多英尺的航空飞机。</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_dd707c3d496e4e63bfb51e78edd40c3a_img_000" referrerpolicy="no-referrer"></p> 
<p>根据这位LukeBerndt推特用户分享，成片大概长这样： </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_137fbd3cebad4f568be399abade4c126_img_000" referrerpolicy="no-referrer"></p> 
<p>别看这照片像素啥的都挺一般的，就凭这张照片，系统就能同步更新飞机的<strong>基本信息</strong>了，比如型号、重量，以及什么时候经过房子上空的等。 </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_77807a2cd9454adb81fbe3b67a2cd441_img_000" referrerpolicy="no-referrer"></p> 
<p>官网链接：</p> 
<p>http://skybot.cam/</p> 
<p>推特上也有不少网友对此表示绝绝子，有网友调侃道，“这波是无意间给联邦快递打了个广告啊”。</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_6386b1e597584753bafdb45e69dc5e52_img_000" referrerpolicy="no-referrer"></p> 
<p>甚至有人表示，这也太火爆了，“服务器都被挤爆了”。</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_e5308d86dcca450496d5d5b953f62a9e_img_000" referrerpolicy="no-referrer"></p> 
<h2 label="一级标题" style><strong>如何做一个skybot系统</strong></h2> 
<p>不知道有多少小伙伴已经开始动心<a class="project-link" data-id="52642" data-name="跃跃" data-logo="https://img.36krcdn.com/20210807/v2_48a15588eaa74e91a5f0e27765477dd0_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/52642" target="_blank">跃跃</a>欲试了。</p> 
<p>别急，我们先来看看做一个skybot需要哪些东西：一个<strong>树莓派</strong>，一个<strong>RTL-SDR</strong>和<strong>Axis PTZ安全摄像头</strong>。</p> 
<p>Axis的摄像机提供了一个很棒的API，它可以与他们家的PTZ摄像机<a class="project-link" data-id="81906" data-name="一起" data-logo="https://img.36krcdn.com/20210709/v2_647b9860d6f7437caf1be2501d37698a_img_000" data-refer-type="1" href="https://www.36dianping.com/space/4772100123" target="_blank">一起</a>使用，在这里使用的是m5525，因为摄像机可以<strong>360度</strong>旋转，完美覆盖天空上方的视野。</p> 
<p>同时这里使用的是noelec NESDR SMArt v4 SDR，这款SDR结构紧凑，不会阻塞树莓派上的其他端口。</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_28eb4ce231d545feb7c3b364b157606a_img_000" referrerpolicy="no-referrer"></p> 
<p>那么，要怎么接收飞机信号呢？</p> 
<p>其实为了更好地实现跟踪，大多数飞机会发射一种<strong>ADS-B信号</strong>。该信号为1090MHz，任何低成本SDR都可以轻松接收。同时从ADS-B传输中，我们还可以<a class="project-link" data-id="95377" data-name="得到" data-logo="https://img.36krcdn.com/20210807/v2_966db147ab4646ef82349f069ce61219_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/95377" target="_blank">得到</a>飞机的<strong>位置和高度</strong>，但如果你想知道飞机和你的相对位置，就还需要一点数学知识。</p> 
<p>用相机对准飞机拍照后，收集到数据，就可以使用标记的平面数据构建平面检测器和分类器。</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_22efc53dd6f347159b256f6701f7fd61_img_000" referrerpolicy="no-referrer"></p> 
<p>在了解完系统的工作原理后，我们再来看看这个项目的软件架构。不同组件都被做成了Docker容器，这种模块化使得添加新的数据源或摄像机也变得更加容易。 </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_7ad2c5c08b254cca88a58b5c6c52ed2b_img_000" referrerpolicy="no-referrer"></p> 
<p><strong>mikenye/pi+aware</strong>：FlightAware的piaware程序的dockerized版本。PiAware实际上只是一个dump1090的包装。Dump1090是一个小程序，可以使用RTL-SDR接收ADS-B传输。该程序利用这些传输来跟踪附近飞机的位置，并将它们显示在网页上，除此之外程序还将在TCP端口上接收到的所有消息输出给其他程序使用。</p> 
<p><strong>adbs+MQTT</strong>：一个小型Python程序，读取Dump1090通过TCP端口收集的信息，并将接收到的所有消息发布到MQTT总线上。</p> 
<p><strong>Tracker</strong>：接收飞机的位置信息，确定每架飞机离摄像头有多远，然后找到最近的飞机。</p> 
<p>Axis+PTZ：接收要通过MQTT跟踪的平面上的更新，然后将PTZ摄像机对准该平面，同时拍照。</p> 
<p>目前该系统已经在GitHub上开源了，链接如下： </p> 
<p>https://github.com/IQTLabs/SkyScan</p> 
<p>不过Luke表示，目前skybot还只能用于飞机的追踪，要在鸟类身上实现可能还得费一番功夫。</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220124/v2_28b0a53ffa67452d8b269d74cb34f45a_img_000" referrerpolicy="no-referrer"></p> 
<h2 label="一级标题" style><strong>你可能不知道的ADS-B</strong></h2> 
<p>说到ADS-B，可能它的复杂程度要远超你的想象。</p> 
<p>我们知道，ADS-B全称<strong>广播式自动相关监视系统</strong>，其实就是飞机发出的广播信号，用明码来对外发送自己的位置、高度、速度、航向等信息，是<strong>公开</strong>信息。连续接收到一架飞机发出的ADS-B信息后，可以通过其坐标点来描绘出飞机的航行轨迹，并实时获取其飞行状态。这对于现今的民航飞行来说已经是非常普遍的了。</p> 
<p>不过由于ADS-B信息时效性比较差，信息不足，往往还需要flightradar24或者其他可以显示飞机ADS-B信息的软件来掌握飞机的动态，以做好准备工作。</p> 
<p><span style="letter-spacing: 0px;">这架飞机在著名ADS-B网站FR24上显示的根据ADS-B信息实时绘制的航线轨迹，实线部分是地面接收到了这飞机的ADS-B信号并且传输回服务器后自动绘制而成的实际航线，虚线部分（红圈）是该区域没有ADS-B接收器信号丢失，系统直接在最后消失点与最新出现点之间拉了条直线以进行示意。从图中判断该飞机目前还在无ADS-B接收器区域飞行，所展示的位置只是预估位置，在地面重新接收到ADS-B信号后会进行修正。</span></p> 
<p>但除了民用飞机外，<strong>军用航空器</strong>也会安装有ADS-B系统，主要是为了<strong>空中防碰撞</strong>。以某些距离城市及机场非常近的军用机场为例，他们使用的空域会与民用航空器的空域有不少的交集，这就需要开启ADS-B设备，便于地面指挥。</p> 
<p>不过也不必担心，在正常情况下，执行任务的军用航空器都会关闭ADS-B设备，防止暴露行踪。同时在国内，虽然军用航空器会开启ADS-B，但都会进行一定的处理以<strong>消除敏感信息</strong>，只显示必要的、满足需求的信息出来，比如高度航向速度等。</p> 
<p>因此，在大家对飞过自家头顶的飞机感兴趣的同时，也还需要注意安全问题。嗯，不说了，文摘菌准备动手了，也欢迎大家在评论区分享自己的动手心得呀~</p> 
<p>本文来自<a class="project-link" data-id="3968527" data-name="微信" data-logo="https://img.36krcdn.com/20200916/v2_811751a081924fa9af8741ce120bd7bf_img_png" data-refer-type="2" href="https://36kr.com/projectDetails/3968527" target="_blank">微信</a>公众号 <a target="_blank" rel="noopener noreferrer nofollow" href="http://mp.weixin.qq.com/s?__biz=MjM5MTQzNzU2NA==&mid=2651709957&idx=1&sn=5c3dcead8ef93bcc719e92b9a1ea6e3f&chksm=bd4cc5968a3b4c8015708ddff7f10a1edfdeebd1e3db9fa868ac0e23c14321dc8aab2b230654#rd">“大数据文摘”（ID：BigDataDigest）</a>，作者：Caleb，36氪经授权发布。</p>  
</div>
            